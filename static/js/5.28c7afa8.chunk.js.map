{"version":3,"sources":["components/Users/Users.module.css","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"names":["module","exports","Users","usersPage","getUsers","setCurPage","userUnfollow","userFollow","className","ucss","users_wrapper","pages_list","currentPage","totalPages","curArr","i","push","pages","map","n","changePage","onClick","users_list","users","u","to","id","photos","small","src","userPhoto","userAnanimAva","name","follow_buttons","followed","disabled","pressingNumBut","some","UsersContainer","props","this","arrPages","loading","Loading","React","Component","connect","state","UsersPage","setLoading"],"mappings":"wGACAA,EAAOC,QAAU,CAAC,cAAgB,6BAA6B,WAAa,4B,mJC6D7DC,EA1DH,SAAC,GAAiE,IAAhEC,EAA+D,EAA/DA,UAAWC,EAAoD,EAApDA,SAAUC,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,WAgB3D,OAAO,sBAAKC,UAAWC,IAAKC,cAArB,UACL,qBAAKF,UAAWC,IAAKE,WAArB,SAhBU,SAACC,EAAaC,GACxB,IAAIC,EAAS,GACb,GAAIF,GAAe,EACjBE,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,MAAOD,QAC3B,GAAKD,EAAc,GAAMC,EAC9BC,EAAS,CAAC,EAAG,MAAOD,EAAa,EAAGA,EAAa,EAAGA,EAAa,EAAGA,EAAa,EAAGA,OAC/E,CACL,IAAK,IAAIE,EAAIH,EAAc,EAAGG,GAAKH,EAAc,EAAGG,IAClDD,EAAOE,KAAKD,GAEdD,EAAM,CAAI,EAAG,OAAP,mBAAiBA,GAAjB,CAAyB,MAAOD,IAExC,OAAOC,EAKJG,CAAMd,EAAUS,YAAaT,EAAUU,YAAYK,KAAI,SAAAC,GAAC,OAEvD,aADA,CACA,iBACGhB,EAAUS,aAAeO,EAAI,uBAAMX,UAAWC,IAAKW,WAClDC,QAAS,WAAOjB,EAASe,IADG,UACGA,EADH,OAErB,OAALA,EAAa,+BAAOA,IAAY,uBAAME,QAAS,WAAOjB,EAASe,GAAId,EAAWc,IAA9C,UAAoDA,EAApD,cAO1C,qBAAKX,UAAWC,IAAKa,WAArB,SACGnB,EAAUoB,MAAML,KAAI,SAAAM,GAAC,OAAI,qCAExB,eAAC,IAAD,CAASC,GAAI,YAAcD,EAAEE,GAA7B,UACqB,MAAlBF,EAAEG,OAAOC,MAAgB,qBAAKC,IAAKC,IAClCtB,UAAWC,IAAKsB,gBACd,qBAAKF,IAAKL,EAAEG,OAAOC,QAEvB,8BAAMJ,EAAEQ,UAGV,qBAAKxB,UAAWC,IAAKwB,eAArB,SACGT,EAAEU,SAAW,wBAAQC,SAAUhC,EAAUiC,eAAeC,MAAK,SAAAX,GAAE,OAAEA,GAAIF,EAAEE,MAAKL,QAAS,WAAOf,EAAakB,EAAEE,KAA9F,uBAGT,wBAAQS,SAAUhC,EAAUiC,eAAeC,MAAK,SAAAX,GAAE,OAAEA,GAAIF,EAAEE,MAAKL,QAAS,WAAOd,EAAWiB,EAAEE,KAA5F,mC,gBC3CTY,E,kDACJ,WAAYC,GAAO,OAAC,oBAAD,YACXA,G,qDAGR,WACEC,KAAKD,MAAMnC,SAASoC,KAAKD,MAAM3B,e,mBAIjC,SAAMC,GAEJ,IADA,IAAI4B,EAAW,GACN1B,EAAI,EAAGA,GAAKF,EAAYE,IAC/B0B,EAASzB,KAAKD,EAAI,KAEpB,OAAO0B,I,oBAGT,WAEE,OAAO,qCAAGD,KAAKD,MAAMpC,UAAUuC,QAAU,cAACC,EAAA,EAAD,IAAc,KACrD,cAAC,EAAD,CAAOxC,UAAWqC,KAAKD,MAAMpC,UAC3BC,SAAUoC,KAAKD,MAAMnC,SACrBC,WAAYmC,KAAKD,MAAMlC,WACvBC,aAAckC,KAAKD,MAAMjC,aACzBC,WAAYiC,KAAKD,MAAMhC,oB,GAzBFqC,IAAMC,WAwCpBC,uBARS,SAACC,GACrB,MAAO,CACL5C,UAAW4C,EAAMC,aAMgB,CACrCC,eAAa7C,aAAUE,iBAAcC,eAAYF,gBADpCyC,CACiDR","file":"static/js/5.28c7afa8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userAnanimAva\":\"Users_userAnanimAva__2zNg3\",\"changePage\":\"Users_changePage__3p_eF\"};","import React from 'react';\r\nimport ucss from './Users.module.css';\r\nimport userPhoto from \"./../../img/ava.jpg\"\r\nimport { NavLink } from 'react-router-dom';\r\nlet Users = ({usersPage, getUsers, setCurPage, userUnfollow, userFollow}) => {\r\n  let pages = (currentPage, totalPages) => {\r\n    let curArr = [];\r\n    if (currentPage <= 4) {\r\n      curArr = [1, 2, 3, 4, 5, \"...\", totalPages]\r\n    } else if ((currentPage + 3) >= totalPages) {\r\n      curArr = [1, \"...\", totalPages - 4, totalPages - 3, totalPages - 2, totalPages - 1, totalPages]\r\n    } else {\r\n      for (let i = currentPage - 2; i <= currentPage + 3; i++) {\r\n        curArr.push(i)\r\n      }\r\n      curArr = [1, \"...\", ...curArr, \"...\", totalPages]\r\n    }\r\n    return curArr\r\n  }\r\n  \r\n  return <div className={ucss.users_wrapper}>\r\n    <div className={ucss.pages_list}>\r\n      {pages(usersPage.currentPage, usersPage.totalPages).map(n =>\r\n        // <NavLink to={\"/users/page=\" + n}>\r\n        <span>\r\n          {usersPage.currentPage == n ? <span className={ucss.changePage}\r\n            onClick={() => {getUsers(n)}}>{n} </span>\r\n            : n == \"...\" ? <span>{n}</span> : <span onClick={() => {getUsers(n); setCurPage(n)}}>{n} </span>\r\n          }\r\n        </span>\r\n        // </NavLink>\r\n      )}\r\n    </div>\r\n    \r\n    <div className={ucss.users_list}>\r\n      {usersPage.users.map(u => <>\r\n        \r\n        <NavLink to={\"/profile/\" + u.id}>\r\n          {u.photos.small == null ? <img src={userPhoto}\r\n            className={ucss.userAnanimAva} />\r\n            : <img src={u.photos.small} />\r\n          }\r\n          <div>{u.name}</div>\r\n        </NavLink>\r\n        \r\n        <div className={ucss.follow_buttons}>\r\n          {u.followed ? <button disabled={usersPage.pressingNumBut.some(id=>id==u.id)} onClick={() => {userUnfollow(u.id)  }}>\r\n             unfollow </button>\r\n         \r\n            :  <button disabled={usersPage.pressingNumBut.some(id=>id==u.id)} onClick={() => {userFollow(u.id)}}> \r\n            follow </button>\r\n          }\r\n        </div>\r\n      </>)}\r\n\r\n    </div>\r\n  </div>\r\n}\r\n\r\n\r\n\r\n\r\nexport default Users","import React from 'react';\r\nimport {connect} from \"react-redux\"\r\nimport Users from \"./Users\"\r\nimport Loading from \"../../Global/Loading\"\r\nimport {setLoading, getUsers, userUnfollow, userFollow, setCurPage} from \"../../Redux/UsersReducer\"\r\n\r\nclass UsersContainer extends React.Component {\r\n  constructor(props) { // если в конструкторе нет методов, его можно не писать\r\n    super(props);\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage)\r\n  }\r\n\r\n    // \"https://social-network.samuraijs.com/api/1.0/users?page=${currentPage}&count=${this.props.pageSize}\"\r\n  pages(totalPages) {\r\n    let arrPages = [];\r\n    for (let i = 1; i <= totalPages; i++) {\r\n      arrPages.push(i + \" \")\r\n    }\r\n    return arrPages\r\n  }\r\n\r\n  render() {\r\n\r\n    return <>{this.props.usersPage.loading ? <Loading /> : null}\r\n      <Users usersPage={this.props.usersPage}\r\n        getUsers={this.props.getUsers}\r\n        setCurPage={this.props.setCurPage}\r\n        userUnfollow={this.props.userUnfollow}\r\n        userFollow={this.props.userFollow}\r\n      /></>\r\n  }\r\n}\r\n\r\n\r\n\r\nconst MapToStateProps = (state)=>{\r\n    return {  \r\n      usersPage: state.UsersPage,\r\n      }\r\n}\r\n\r\n\r\n\r\nexport default connect(MapToStateProps,{\r\n  setLoading,  getUsers, userUnfollow, userFollow, setCurPage})(UsersContainer);"],"sourceRoot":""}